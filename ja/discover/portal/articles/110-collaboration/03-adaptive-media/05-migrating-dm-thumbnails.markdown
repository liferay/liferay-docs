---
header-id: migrating-documents-and-media-thumbnails-to-adaptive-media
---

# ドキュメントとメディアサムネイルをアダプティブメディアに移行する

<p class="alert alert-info"><span class="wysiwyg-color-blue120">ファストトラック記事は、お客様の利便性のために一部機械翻訳されています。また、ドキュメントは頻繁に更新が加えられており、翻訳は未完成の部分が含まれることをご了承ください。最新情報は都度公開されておりますため、必ず英語版をご参照ください。翻訳に問題がある場合は、<a href="mailto:support-content-jp@liferay.com">こちら</a>までご連絡ください。</span></p>

[TOC levels=1-4]

@product@は、ドキュメントとメディアの画像のサムネイルを自動的に生成します。 ただし、Adaptive Mediaアプリをデプロイすると、@product@はそれらをAdaptive Mediaに移行するまでサムネイルを表示しません。 この記事では、この移行プロセスについて説明します。

| **注：** 説明されているアクションを実行するには、ポータル管理者である必要があります。ここに。

まず、アダプティブメディアでサムネイルの画像解像度を作成します。

## 代替画像解像度の追加

既存のドキュメントとメディアのサムネイルを移行するには、最大の高さと最大の幅の値が次のポータルプロパティで指定された値と一致する新しい画像解像度をアダプティブメディアに追加する必要があります。

    dl.file.entry.thumbnail.max.height
    
    dl.file.entry.thumbnail.max.width
    
    dl.file.entry.thumbnail.custom1.max.height
    
    dl.file.entry.thumbnail.custom1.max.width
    
    dl.file.entry.thumbnail.custom2.max.height
    
    dl.file.entry.thumbnail.custom2.max.width

| **注：** これらのプロパティの一部は有効になっていない場合があります。 作成するだけです|有効なプロパティのアダプティブメディアの画像解像度。

新しい画像解像度を作成するには、アダプティブメディアユーザーガイドの「 [画像解像度の追加](/docs/7-1/user/-/knowledge_base/u/adding-image-resolutions) セクションにある手順に従ってください。

これで、アダプティブメディアイメージを作成する準備ができました。

## アダプティブメディアイメージの作成

必要な画像解像度が得られたら、ドキュメントとメディアのサムネイルをアダプティブメディア画像に変換できます。 [たように、Adaptive Mediaインストールガイド](/docs/7-1/user/-/knowledge_base/u/installing-adaptive-media)、モジュール *Liferay Adaptive Media Document Library Thumbnails* （これはAdaptive Mediaアプリに含まれています）がこの機能を有効にします。

ドキュメントとメディアのサムネイルをアダプティブメディアに移行するには、2つの方法があります。

  - **サムネイル画像の解像度に合わせて画像を調整します** これにより、既存のサムネイルがアダプティブメディアの画像解像度の値にスケーリングされます。画像の数によっては時間がかかる場合があります。 この方法は、処理するサムネイルが多数ない場合、または画像を最初から生成する場合にのみお勧めします。 このアプローチについては、アダプティブメディアユーザーガイドの「 [不足している適応画像の生成](/docs/7-1/user/-/knowledge_base/u/managing-image-resolutions#generating-missing-image-resolutions) セクションで詳しく説明しています。

  - **既存のサムネイルを再利用する移行プロセスを実行します** これにより、既存のサムネイルがAdaptive Mediaにコピーされます。これにより、計算コストのかかるスケーリング操作が回避されるため、パフォーマンスが向上します。 次のセクションでは、このプロセスを実行する手順について説明します。

### 移行プロセスの実行

移行プロセスは、Gogoコンソールコマンドのセットです。 あなたには午後コンソールの使用方法についての詳細を学ぶことができる [フェリックス轟轟シェルはチュートリアル](/docs/7-1/reference/-/knowledge_base/r/using-the-felix-gogo-shell)。

次の手順に従って、Gogoコンソールからサムネイルを移行します。

1.  `thumbnails：check` コマンドを実行します。 インスタンスごとに、移行が保留されているサムネイルの数がリストされます。

2.  `thumbnails：migrate` コマンドを実行します。 これにより、移行プロセスが実行されます。イメージの数によっては、完了するまでに時間がかかる場合があります。

3.  `thumbnails：cleanUp` コマンドを実行します。 これにより、すべての元のドキュメントとメディアのサムネイルが削除され、 `サムネイルによって返されるカウントが更新されます。チェック`。 そのため、あなたがすべき **のみ** ラン `サムネイル：クリーンアップ` 移行のコマンドを実行し、移行が正常に実行されたことを確実にした後、ノーイメージは、移行を保留しています。

| **注：** |の実行後のある時点でアダプティブメディアをアンデプロイする場合移行プロセスでは、ドキュメントとメディアのサムネイルを再生成する必要があります。 |これを行うには、 *コントロールパネル* → *構成* → *サーバー|に移動します。管理* とクリック *実行* 隣に *リセットプレビューとサムネイルファイル|ドキュメントとメディア*。

すごい\！ ドキュメントとメディアのサムネイルを適応画像に移行する方法をマスターしました。
