---
header-id: user-subscriptions-and-mailing-lists
---

# ユーザーサブスクリプションとメーリングリスト

<p class="alert alert-info"><span class="wysiwyg-color-blue120">ファストトラック記事は、お客様の利便性のために一部機械翻訳されています。また、ドキュメントは頻繁に更新が加えられており、翻訳は未完成の部分が含まれることをご了承ください。最新情報は都度公開されておりますため、必ず英語版をご参照ください。翻訳に問題がある場合は、<a href="mailto:support-content-jp@liferay.com">こちら</a>までご連絡ください。</span></p>

[TOC levels=1-4]

メッセージボードは、次の2つの方法でメッセージボードのアクティビティを電子メールでユーザーに通知します。

  - ユーザーのサブスクリプション
  - メーリングリスト

| **注：** 複数のサイトがグローバルスコープのメッセージボードを使用できるため、このような|メッセージボードは、ユーザーのサブスクリプションやメーリングリストをサポートしていません。 確認してください|ユーザーサブスクリプションが必要な場合は、サイトスコープまたはページスコープのメッセージボードを使用してください。メーリングリスト。

## ユーザーサブスクリプション

ユーザーサブスクリプションメカニズムでは、メッセージボードアプリは構成済みの *Email From* アドレスを使用して、サブスクライブしたユーザーに電子メール通知を送信します。 アプリは、メッセージボード通知へのメール返信を直接メッセージボードにインポートすることもできます。 その後、ユーザーはログインせずにメッセージボード上で電子メールを介して対話し、メッセージボードを直接表示できます。 これはデフォルトで無効になっています。 これを有効にするには、次の行を `portal-ext.properties` ファイルに追加します。

    pop.server.notifications.enabled=true

ユーザーサブスクリプションメカニズムは、POPメールプロトコルを使用します。 メッセージボードアプリは、メッセージボード通知への返信メールを受信すると、その返信をメッセージボードに投稿し、メールサーバーから削除します。 メールサーバーからのメッセージの削除はPOPプロトコルのデフォルトの動作であり、メッセージボードアプリはPOPメールサーバーがこのように動作すると想定しています。 ほとんどのPOPクライアントには、ダウンロード後にメールサーバーにメールを残すオプションがありますが、このオプションを実行しないでください。 メールサーバーにメールを残すように構成すると、メッセージボードアプリは、保持されている各メッセージのコピーを、購読しているユーザーに送信する新しい電子メール通知ごとに送信します。

メッセージボードで電子メール通知への返信をインポートできるようにする場合、メールサーバーサブドメインで通知を処理するかどうかを決定する必要があります。 デフォルトでは、次のプロパティ設定がポータルプロパティで指定されています。

    pop.server.subdomain=events

このプロパティは、仮想インスタンスに関連するすべての電子メール（events.liferay.comなど）を受信するための特別なMX（メール交換）サブドメインを作成します。 このアプローチを使用しない場合は、 `portal-ext.properties` ファイルでこの値を設定解除します。

``` 
pop.server.subdomain= 
```

これにより、メッセージボードは、メッセージボードの構成で指定された *Email From* アドレスを使用して、メッセージボード通知の電子メール応答を受信するようになります。 たとえば、 *Email From* アドレスは *<replies@example.com>*設定できます。

メールサブドメインを使用していない場合、メッセージボードは *Email From* アドレスからのメールのメッセージヘッダーを解析して、メッセージボードのカテゴリとメッセージIDを決定します。 `pop.server.subdomain = events` デフォルトのままにすると、電子メール通知アドレスは次の形式になります。

    mb.[category_id][message_id]@events.liferay.com

この場合、メッセージボードは電子メールアドレスを解析して、カテゴリとメッセージIDを見つけます。 電子メールアドレスを解析する方がメッセージヘッダーを解析するよりも安全です。これは、メールクライアントによってメッセージヘッダーの扱いが異なるためです。 これが、 `イベント` サブドメインがデフォルトで有効になっている理由です。

`POPNotificationListener` 実行する間隔を構成することもできます。 値は1分単位で設定されます。 デフォルトの設定では、毎分新着メールをチェックしますが、次のように設定することもできます。

    pop.server.notifications.interval=1

| **注**：メールプロバイダーによっては、複数のデバイスを使用してアクセスする場合| POP経由でメールを送信するには、POP設定で何かを構成する必要がある場合があります。 Gmailの *最近のモードのように*。 Gmailでは、最近のモードでメールがすべてのユーザーに送信されます。電子メールを受信する最初のクライアントだけではなく、デバイス。 へ|たとえば、Gmailで最近のモードを有効にします。たとえば、POPクライアントの| `最近のユーザー名または電子メールフィールド：`。

## メーリングリスト

または、掲示板アプリはメーリングリストを使用してメール通知を送信できます。 掲示板のどのカテゴリにも独自のメーリングリストを作成できます。 メーリングリストメカニズムは、ユーザーサブスクリプションメカニズムとは異なり、POPプロトコルとIMAPプロトコルの両方をサポートしています。 デフォルトはPOPですが、各メッセージボードのメーリングリストは個別に設定されます。 カテゴリのメーリングリストにIMAPプロトコルを選択する場合は、メーリングリストのユーザーにメッセージを送信するメールクライアントによってメッセージがプルされるため、メッセージを削除するようにIMAP受信トレイを設定してください。 それ以外の場合、サーバーに保持されている各電子メールメッセージは、カテゴリに新しい投稿または更新があるたびにメーリングリストに送信されます。

メッセージボードのカテゴリでメーリングリストが有効になっている場合、メッセージボードは、メーリングリスト用に構成されている特定の電子メールの受信トレイをリッスンします。 メーリングリスト機能を有効にすると、メーリングリストのユーザーはメールクライアントの通知メッセージに返信できます。 メッセージボードは、聞くように構成されている電子メールの受信トレイからメッセージをプルし、それらの返信を適切なメッセージボードスレッドに自動的にコピーします。

カテゴリのメーリングリスト機能を有効にするには、次の手順に従います。

1.  カテゴリ専用のメールアドレスを設定します。

2.  カテゴリの *アクション* アイコン（![Actions](../../../../images/icon-actions.png)）をクリックし、 *編集*を選択します。

3.  フォームの *Mailing List* セクションで、 *Active* スライダーを *YES*ます。 次に、いくつかのオプションが表示されます。 これらを次のように記入します。

    **電子メールアドレス：** メッセージを受信するアカウントの電子メールアドレス。

    **プロトコル：** POPまたはIMAPを選択します。

    **サーバー名：** メールサーバーのホスト名。

    **サーバーポート：** メールサービスが実行されているポート。

    **安全なネットワーク接続を使用する：** サーバーがサポートしている場合に暗号化接続を使用するかどうか。

    **ユーザー名：** メールサーバーのログイン名。

    **パスワード：** サーバー上のアカウントのパスワード。

    **読み取り間隔（分）：** 投稿する新しいメッセージを探すためにサーバーをポーリングする頻度。

    **電子メールアドレス（送信）：** このカテゴリのメッセージを発信する電子メールアドレス。 ユーザーがメールを使用してカテゴリに返信できるようにする場合、これは受信メールアドレスと同じアドレスにする必要があります。

    **カスタム送信サーバーを使用：** グローバルデフォルトとは異なるメールサーバーを使用します。 サーバーの名前、ポート、ユーザー名、パスワード、および安全な接続を設定するためのフィールドが表示されます。

4.  匿名ユーザーからのメールをメッセージボードカテゴリに投稿できるようにする場合は、[ *匿名メールの許可* ]トグルを *YES*ます。

5.  完了したら、[ *保存* クリックします。
