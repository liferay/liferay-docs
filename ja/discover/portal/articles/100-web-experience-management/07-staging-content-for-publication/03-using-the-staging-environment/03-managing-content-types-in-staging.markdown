---
header-id: managing-content-types-in-staging
---

# ステージングでのコンテンツタイプの管理

[TOC levels=1-4]

ステージングの[高度なパブリケーション]メニューでコンテンツを管理する場合、コンテンツをパブリッシュする準備をするときに考慮すべきいくつかの要素があります。 [ステージングを使用した高度な公開](/docs/7-1/user/-/knowledge_base/u/advanced-publication-with-staging)で説明されているように、[高度な公開]メニューの[コンテンツ]領域に移動して、公開するコンテンツを選択できます。 各コンテンツグループ（Webコンテンツなど）には、管理可能なオプションもあります。

![図1：コンテンツグループの[変更]ボタンをクリックして、特定のコンテンツを管理します。](../../../../images/web-content-version-history-box.png)

次に、これらのオプションのいくつかとそのベストプラクティスについて学習します。

## 参照コンテンツ

これは

  - Webコンテンツに含まれる構造とテンプレート。
  - Webコンテンツに含まれるドキュメントおよびメディアファイル（画像など）。
  - 等

公開またはエクスポート中にこのコンテンツの一部を除外して、プロセスを高速化できます。 これらの参照は、公開プロセスまたはインポート中に検証されるため、最初に画像を公開またはインポートする必要があります。

## バージョン履歴

Webコンテンツは、他の種類のコンテンツよりも頻繁に更新される傾向があります。 これにより、バージョン数が多くなることがあります。 何百ものバージョンがある場合、これらの記事を公開するのに長い時間がかかる可能性があります。 *バージョン履歴* （つまり、発行されるWebコンテンツ記事の過去のバージョン）を発行しないことを選択することで、これを回避できます。 あなたはこれを無効にした場合は、最後に **承認** 各Webコンテンツの記事のバージョンは、ライブに公開されます。 これにより、公開プロセスを大幅にスピードアップできます。

このオプションはグローバルに設定できます。 コントロールパネル→ *設定* → *システム設定* → *Webコンテンツ管理*に移動すると、 *デフォルトでバージョン履歴を公開する* チェックボックスを切り替えることができます。 これにより、デフォルトの動作が設定されます。 コンテンツを公開するときはデフォルトで選択されているため、サイト管理者は手動で[ *バージョン履歴* チェックボックスをオフにして、承認された最新バージョンのWebコンテンツ記事のみを公開する必要があります。 デフォルトの動作を変更するには、システム設定のチェックボックスを有効にします。

## プレビューとサムネイル

ドキュメントのプレビューとサムネイルが自動的に生成されます。 ただし、これを無効にすると、公開速度が大幅に向上する場合があります。 プレビューとサムネイルをライブサイトに公開する場合は注意が必要です。

サイトに約4000の画像またはドキュメントがあるシナリオを想像してみてください。 プレビューとサムネイルがオンになっていると、ディスク上の物理ファイルが28000個になる可能性があります。 ステージングがプレビューとサムネイルを公開するように設定されている場合、これは、4000の画像を処理する代わりに、7倍のファイルを処理することを意味します\！ ライブ環境でプレビューを引き続き使用する場合は、Liferayインスタンスを設定して、プレビューを自動的に生成できます。

プレビューとサムネイルの公開を使用できるかどうかは、環境によって異なります。 それらの公開は負荷の高い操作であり、リモートステージングを使用する場合は、LARファイルをネットワーク経由で転送する必要もあります。 ライブサイトで生成する場合は、CPUに負荷がかかる操作であるため、これには時間がかかる場合があることを理解してください。

## 語彙

サイト内で作業する場合、ユーザーは現在のサイトとグローバルサイトの両方から語彙を選択できます。 これはコンテンツの作成時には問題になりませんが、公開時に問題が発生する可能性があります。

グローバル語彙とローカル語彙の両方を使用する環境の場合、グローバル語彙はグローバルサイトステージングを通じてライブサイトに公開する必要があることに注意してください。 語彙との混同を避ける1つの方法は、すべての語彙をローカルまたはグローバルに保つことです。

両方を使用する必要がある場合は、それらに依存するサイトを公開する前に、依存関係（カテゴリやボキャブラリなど）を公開することで問題を解決できます（依存関係がローカルかグローバルか）。

タグ、カテゴリ、構造、テンプレート、アプリケーション表示テンプレート、ドキュメントタイプ、動的データリストなどのアセットも、親から子サイトに共有できます。 この場合、祖先の依存関係が問題のサイトの前に公開されていることを確認してください。

## 削除

ステージングフレームワークは、サイト内の削除（ゴミ箱のエンティティを含む）を収集します。 これらの削除を公開して、ライブサイトをクリーンアップできます。 後で処理する予定がある場合、またはライブで残存データが問題にならない場合は、これをオフにして、処理中の実行時間を節約することもできます。
