---
header-id: enabling-page-versioning-and-staged-content
---

# ページのバージョン管理とステージングされたコンテンツの有効化

<p class="alert alert-info"><span class="wysiwyg-color-blue120">ファストトラック記事は、お客様の利便性のために一部機械翻訳されています。また、ドキュメントは頻繁に更新が加えられており、翻訳は未完成の部分が含まれることをご了承ください。最新情報は都度公開されておりますため、必ず英語版をご参照ください。翻訳に問題がある場合は、<a href="mailto:support-content-jp@liferay.com">こちら</a>までご連絡ください。</span></p>

[TOC levels=1-4]

サイトのページのバージョン管理を有効にすると、サイト管理者はサイトのページの複数のバージョンで並行して作業できます。 ページのバージョン管理は、ページのバージョン管理が有効になった時点からのサイトへのすべての更新の履歴も保持します。 サイト管理者はいつでもサイトの以前のバージョンに戻すことができます。 この柔軟性は、ミスが見つかった場合に非常に重要であり、修正を迅速に公開することが重要です。

ステージング環境（ローカルまたはリモート）を選択するメニューの下の[ステージング構成]ページで、パブリックページまたはプライベートページのバージョン管理を有効にできます。 ステージングをすでに有効にしている場合は、製品メニュー→ *パブリッシング* → *ステージング* に移動し、（![Options](../../../../images/icon-options.png)）ボタンをクリックして *ステージング構成*を選択できます。

![図1：バージョン管理の使用を決定し、ステージングするコンテンツを選択できます。](../../../../images/staging-page-versioning-staged-content.png)

[ステージング構成]ページで、管理するステージング環境のコンテンツを選択することもできます。

ステージングするコンテンツを選択すると自明のように聞こえるかもしれませんが、ステージング環境で使用するには、コンテンツに@product@の特定の属性が必要です。 コンテンツまたはエンティティはサイトスコープにする必要があるため、常にサイトの一部です。それ以外の場合は、ステージングの対象にはなりません。 たとえば、ページスコープのエンティティは、公開されたページでのステージングにのみ適しています。 スコープデータがページ（Webコンテンツ表示ウィジェットなど）にあり、ページが公開されると、スコープデータも一緒に公開されます。

@product@はデフォルトで、ステージング用に次のコンテンツグループをサポートしています。

  - アプリケーション表示テンプレート
  - ブログ
  - しおり
  - カレンダー
  - ドキュメントとメディア
  - 動的データリスト
  - フォーム
  - 知識ベース
  - メッセージボード
  - モバイルデバイスファミリ
  - 世論調査
  - Webコンテンツ
  - Wiki

ステージングをアクティブにする前に、ステージングにコピーするアプリケーションのデータを選択してください。 [Collaboration Suiteの](/docs/7-1/user/-/knowledge_base/u/collaboration) セクションの記事を読むと、「ステージングされたポートレット」の見出しの下にリストされている多くのコラボレーションアプリについて学びます。 現時点では、これらのアプリケーションのステージングを有効または無効にできることに注意してください。 一部のアプリケーションタイプではステージングを有効にしたいが、他のタイプでは有効にしたくないのはなぜですか？ コラボレーティブアプリケーションの場合は、おそらく *いない* このようなアプリケーションは、ユーザとの対話のために設計されているので、ステージングを有効にしたいです。 コンテンツがステージングされている場合、誰かがメッセージボードにメッセージを投稿するたびに、サイトを手動で公開して、そのメッセージがライブサイトに表示されるようにする必要があります。 一般に、エンドユーザーはそのようなコンテンツを作成していないため、Webコンテンツをステージングする必要があります。Webコンテンツはサイトに公開するものです。 しかし、掲示板やWikiのようなアプリケーションは、必要があります *ない* BEが上演しました。 デフォルトでステージングの対象としてマークされているアプリケーションに注意してください。ステージングを有効にしてデフォルトを受け入れる場合、ステージングは *あり、コラボレーティブアプリでは* 有効ではありません。

リストされているアプリケーションまたはコンテンツグループには、1つ以上の特定のエンティティが含まれています。 たとえば、Webコンテンツアプリケーションを選択するとは、Webコンテンツ自体だけでなく、Webコンテンツフォルダーも選択することを意味します。

特定のコンテンツタイプは相互にリンクでき、異なるレベルで相互に参照できます。 ステージングの責任の1つは、公開時にこれらの参照を検出して維持することです。 サイト管理者とコンテンツ作成者は、さまざまなレベルでプロセスを制御できます。コンテンツグループに対してステージングを有効にし、公開するコンテンツグループを選択できます。

ステージングされたコンテンツタイプを無効にすると、ステージングされたサイトでそれらを参照する場合、予期しない問題が発生する可能性があります。 たとえば、Asset Publisherポートレットとその設定は常にステージングされます。 表示するように設定されているコンテンツタイプがステージングに対して有効になっていない場合、Asset Publisherはステージングされたサイトでそれらにアクセスできません。 ステージングしたサイトで必要となるコンテンツタイプを計画するようにしてください。

個々のポートレットデータのステージングをオンおよびオフにすると、ステージングサイトとライブサイトの間でデータの不整合が発生する可能性があります。 このため、ステージングを有効にすると、個々のポートレット構成を変更することはできません。 後で調整が必要になった場合は、ステージングをオフにして、新しい構成で再度有効にする必要があります。

@product@は、アプリ固有のコンテンツを管理する以外にも、ページやユーザーなどのいくつかの特別なコンテンツタイプを持っています。 たとえば、ページはサイトの一部であり、特別な方法で他のコンテンツタイプを参照できます。 このページはアプリを参照しています。つまり、ページを公開すると、そのアプリも公開されます。 コンテンツはサイトのバックボーンを提供します。ただし、コンテンツだけでは意味がありません。 エンドユーザーにコンテンツを表示するには、サイトのビルディングブロックとしてアプリが必要です。

ステージングUIの探索を開始する前に、ステージング環境の効率的かつ効果的な使用のために、ステージングの公開プロセスを理解して情報に基づいた決定を行うことが重要です。
