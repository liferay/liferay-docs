---
header-id: user-group-sites
---

# ユーザーグループサイト

[TOC levels=1-4]

各ユーザーには、パブリック（プロフィール）ページとプライベート（ダッシュボード）ページで構成される個人用サイトがあります。 ユーザーグループ *サイト* は、ユーザーグループメンバーの個人用サイトのベースページを決定します。 ユーザグループサイトのページは、ユーザーのプロフィールページに追加されている場合は、ユーザーのグループサイトURL（と誰にでもアクセスできるパブリックサイトです`：// WWW。HTTP[sitename].COM /ウェブ/[username]`）。 ユーザーグループのサイトページがユーザーのダッシュボードページに追加された場合、ユーザーグループのサイトはプライベートサイトです。 ユーザーグループSiteにプライベートページとパブリックページの両方を追加する、混合アプローチも使用できます。 ユーザーが複数のユーザーグループに属している場合、それらのユーザーグループサイトのすべてのページが個人サイトの一部になります。

[ユーザーグループ](/docs/7-1/user/-/knowledge_base/u/creating-a-user-group)を作成する場合、 *マイプロファイル* および *マイダッシュボード* セレクターメニューで選択可能な [サイトテンプレート](/docs/7-1/user/-/knowledge_base/u/building-sites-from-templates) を介してユーザーグループサイトを作成できます。 手動で、またはサイトテンプレートを使用して、後でユーザーグループサイトを作成することもできます。

## サイトテンプレートからのユーザーグループサイトの作成

次の手順に従って、既存のユーザーグループに対して [サイトテンプレート](/docs/7-1/user/-/knowledge_base/u/building-sites-from-templates)からユーザーグループサイトを作成します。

1.  メニュー（![Menu](../../../images/icon-menu.png)）を開き、 *コントロールパネル* → *ユーザーグループ*を選択します。 ここでは、ユーザーグループを表に示します。

2.  サイトを作成するユーザーグループの *アクション* （![Actions](../../../images/icon-actions.png)）→ *編集* をクリックします。 これにより、ユーザーグループの編集に使用できるフォームが開きます。 このときに表示される同じ形式であることに留意されたい [ユーザーグループの作成](/docs/7-1/user/-/knowledge_base/u/creating-a-user-group)。

3.  サイトテンプレートを使用して *マイプロファイル* サイトのユーザーのパブリックプロファイルを作成するには、[ *マイプロファイル* ]メニューからそのサイトテンプレートを選択します。 サイトテンプレートを使用して *マイダッシュボード* サイトでユーザーのプライベートページを作成するには、[ *マイダッシュボード* ]メニューからそのサイトテンプレートを選択します。 両方を行うこともできます。

4.  [ *保存*クリックします。

これで、グループのユーザーの1人が *マイプロファイル* または *マイダッシュボード* サイトに移動すると、それらのサイトのコンテンツには、選択したサイトテンプレートが反映されます。

ユーザーグループのサイトページは、通常のサイトテンプレートページと同様に機能しますが、重要な例外があります。ユーザーグループのサイトページは、ユーザーごとにコピーされません。 それらは、ユーザーが自分の個人用サイトに持つ可能性のあるカスタムページとともに動的に表示されます。 このため、ユーザーはユーザーグループから継承されたページを変更できません。 必要に応じて、ユーザーグループ管理者は、通常のサイトと同様に、ページの特定の領域をカスタマイズ可能として定義できます。 これにより、ユーザーはページの指定された領域にウィジェットを追加して構成できます。

この柔軟性により、直接変更することなく、ユーザーの個人用サイトのほぼすべての望ましい構成を実現できます。 ユーザーがユーザーグループに割り当てられると、ユーザーは自分の個人用サイトからユーザーグループのサイトページにすぐにアクセスできます。

| **注：** サイトテンプレートには、サイトに加えられた変更を反映するオプションがあります。テンプレート。 このオプションを有効にしてサイトテンプレートを使用する場合、ユーザーグループ|テンプレートが変更されると、サイトは自動的に更新されます。 これを無効にした場合|オプションですが、後で再び有効にすると、テンプレートのページがユーザーの|にコピーされます。サイト、彼らが行ったかもしれないすべての変更を上書きします。 |の詳細についてはサイトテンプレートの変更を自動的に伝達します。 [サイトテンプレート](/docs/7-1/user/-/knowledge_base/u/building-sites-from-templates)。

## ユーザーグループサイトを手動で作成する

ユーザーグループのサイトは、サイトテンプレートに基づく代わりに、手動で作成できます。 次の手順を実行します：

1.  メニュー（![Menu](../../../images/icon-menu.png)）を開き、 *コントロールパネル* → *ユーザー* → *ユーザーグループ*ます。 ここでは、ユーザーグループを表に示します。

2.  サイトを作成するユーザーグループの *アクション* （![Actions](../../../images/icon-actions.png)）→ *ページの管理* をクリックします。 *ページ* ウィンドウが開きます。 これはあなたが使用するのと同じウィンドウであることに注意してください [作成ページ](/docs/7-1/user/-/knowledge_base/u/creating-pages)。

3.  ユーザーの *マイプロフィール* や *マイダッシュボード* サイトに使用するパブリックページやプライベートページを作成します。 ここで作成するパブリックページは、ユーザーの *マイプロファイル* サイトのページになり、プライベートページは、ユーザーの *マイダッシュボード* サイトのページになります。

コントロールパネルの[ユーザーグループ]に戻ると、ユーザーグループの[ *アクション* ]ボタン（![Actions](../../../images/icon-actions.png)）にあるこれらのリンクを介して、ユーザーグループのパブリックページやプライベートページにアクセスできます。

  - **プロファイルページに移動：** ユーザーグループの公開 *マイプロファイル* ページを新しいブラウザウィンドウで開きます。
  - **ダッシュボードページに移動：** ユーザーグループのプライベート *マイダッシュボード* ページを新しいブラウザウィンドウで開きます。

新しいウィンドウで、ページとポートレットを追加し、サイト設定を構成できます。

## 従来のユーザーグループサイトの動作

ユーザーグループのサイトページの継承は動的になっているため、数十万、数百万のユーザーがいても、パフォーマンスに影響はありません。 Liferayポータルと7.0以前のLiferay DXPのバージョンでは、各ユーザーの個人用サイトにユーザーグループページをコピーする必要がありました。 昔から憧れていた場合、または古いバージョンからアップグレードしていてその動作を維持する必要がある場合は、次の行を `portal-ext.properties` ファイルに追加して有効にします。

    user.groups.copy.layouts.to.user.personal.site=true

このプロパティが `true`設定されている場合、テンプレートページはユーザーの個人用サイトに一度コピーされ、その後ユーザーが変更できます。 これは、後でテンプレートページに変更が加えられた場合、変更後にユーザーグループに追加されたユーザーにのみ影響することを意味します。 あれば自分の個人サイトに対する管理権限を持つユーザーは、ページとその内容を変更することができます *サイト管理者は、このサイトのテンプレートを使用したページの関連を変更することを許可する* ボックステンプレートにチェックされています。 ユーザーがユーザーグループから削除されると、関連付けられたページがユーザーの個人用サイトから削除されます。 ユーザーがグループから削除され、その後再び追加された場合、グループのテンプレートページがユーザーのサイトにもう一度コピーされます。 ユーザーグループのサイトがサイトテンプレートに基づいており、ユーザーが既にグループに追加された後に管理者がユーザーグループのサイトテンプレートを変更した場合、これらの変更は *サイトテンプレート* からの変更の伝達を有効にする場合にのみ有効になることに注意してください。ユーザーグループがチェックされました。

Liferayポータル6.1より前のバージョンでは、命名規則を使用して、異なるユーザーグループのページをユーザーの個人用サイトに結合できました。 Liferayポータル6.1では、ページの組み合わせを禁止することで、ユーザーグループのサイトの機能を簡素化しています。 プロパティ `user.groups.copy.layouts.to.user.personal.site = true` を設定して、ページの組み合わせ機能を保持します。
