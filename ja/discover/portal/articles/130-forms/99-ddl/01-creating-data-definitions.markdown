---
header-id: creating-data-definitions
---

# データ定義の作成

[TOC levels=1-4]

次の手順に従って、データ定義を作成します。

1.  メニュー（![Menu](../../../images/icon-menu.png)）を開き、サイトのメニュー（サイト管理メニュー）を展開します。 次に、 *Content* → *Dynamic Data Lists*選択します。 これにより、[動的データリスト]画面が開きます。 テーブルには、既存の動的データリストが一覧表示されます。

2.  右上の[ *オプション* ]ボタン（![Options](../../../images/icon-options.png)）をクリックし、[ *データ定義の管理*を選択します。 データ定義画面が表示されます。 テーブルには、既存のデータ定義が一覧表示されます。 連絡先、イベント、在庫などの一般的なユースケースには、いくつかの定義が組み込まれています。

    ![図1：データ定義画面。](../../../images/ddl-definitions.png)

3.  [ *追加* ]ボタン（![Add](../../../images/icon-add.png)）をクリックして、新しいデータ定義の作成を開始します。 これにより、 *New Data Definition* フォームが開きます。

4.  データ定義に名前を付けます。 定義の名前は、その定義を使用する動的データリストに入力するユーザーに表示されます。 次に、フォームの *Details* セクションを展開し、説明を入力します。

5.  フォームの詳細セクションには、フィールド *Parent Data Definition*も含まれています。 このオプションのフィールドでは、既存のデータ定義（親）を選択して、新しいデータ定義（子）の基礎を形成できます。 子定義は、親のフィールドと設定を継承します。これらは後でカスタマイズできます。 子定義から動的データリストを作成すると、親定義と子定義のフィールドが含まれます。 これにより、共通の定義（親）を特殊な定義（子）の基礎として使用できます。 たとえば、ロッククライミング旅行を計画している場合は、デフォルトのイベント定義を、ロッククライミングに固有のフィールド（たとえば、登山用具の可用性、高度など）を含むロッククライミング旅行定義の親として使用できます。

    親定義を選択するには、[ *親データ定義* フィールドの下の[ *選択* ]ボタンをクリックし、表示されるダイアログで既存の定義を選択します。

    ![図2：データ定義に名前を付けたら、フォームの[詳細]セクションを展開し、必要に応じて定義に説明と親定義を指定します。](../../../images/ddl-definition-form-01.png)

6.  データ定義デザイナーのフォームの[詳細]セクションの下に、データ定義のフィールドを追加します。 デザイナーのデフォルトの *ビュー* タブでは、WYSIWYGエディターで定義を作成できます。 [ *Source* ]タブをクリックして、定義の基になるJSONを操作できますが、WYSIWYGエディターを使用する方がはるかに簡単です。

    *View* タブで、 *Fields* タブを選択します。 フィールドタイプを表すアイコンは片側にリストされ、データ定義のキャンバスは反対側にあります。 フィールドタイプを定義に追加するには、そのアイコンを選択し、キャンバスにドラッグアンドドロップします。 フィールドを既にキャンバス上にあるフィールドにドラッグすると、既存のフィールドに新しいフィールドをネストできます。 キャンバス上のフィールドの上にマウスを置くと、フィールドアクションアイコン（![Icons](../../../images/icon-ddl-actions.png)）が表示されます。 *+* アイコンをクリックすると、現在のフィールドの複製が作成され、現在のフィールドの下に追加されます。 ゴミ箱をクリックすると、フィールドを削除できます。

    次のフィールドを使用できます。

      - **ブール値：** チェックボックス。
      - **色：** 色を指定します。
      - **日付：** 日付を入力します。 日付フィールドには有効な日付形式が必要ですが、手動で日付を入力する必要はありません。 日付フィールドを選択すると、日付を選択するために使用できるミニカレンダーがポップアップ表示されます。
      - **10進数：** 10進数を入力します。 値は `double`として永続化されます。
      - **ドキュメントとメディア：** ドキュメントとメディアライブラリからファイルを選択します。
      - **ジオロケーション：** ロケーションをユーザーのフォームエントリに関連付けます。
      - **HTML：** WYSIWYGエディターを使用してHTMLコンテンツを記述および表示する領域。
      - **整数：** 整数を入力します。 値は `int`として永続化されます。
      - **ページへのリンク：** 同じサイト内の別のページへのリンク。
      - **数値：** 10進数または整数を入力します。 値は、入力のタイプに応じて、 `double` または `int`として永続化されます。
      - **ラジオ：** いくつかのクリック可能なオプションを表示します。 オプションのデフォルト数は3つですが、これはカスタマイズ可能です。 一度に選択できるオプションは1つだけです。
      - **選択：** これはラジオフィールドと同じですが、オプションは非表示であり、ドロップダウンメニューからアクセスする必要があります。
      - **テキスト：** 行のテキストを入力します。
      - **テキストボックス：** 複数行のテキストまたは個別の段落を入力できることを除いて、これはテキストフィールドと同じです。
      - **Webコンテンツ：** Webコンテンツを選択します。

    ![図3：データ定義デザイナーを使用して、フィールドをデータ定義に追加します。](../../../images/ddl-data-definition-designer.png)

7.  目的のデータを反映するようにフィールドラベルを編集します。 テキストフィールドのデフォルトのラベルは *Text*です。 テキストフィールドをタイトルとして使用するには、フィールドのラベルを *Title*変更する必要があります。 まず、キャンバス上のフィールドを選択します。 これにより、左側の[ *設定* ]タブが自動的に選択されます。 または、フィールドのレンチアイコンをクリックして[設定]タブにアクセスすることもできます。 設定値を編集するには、設定テーブルで設定値をダブルクリックして、新しい値を入力します。 利用可能な設定は以下のとおりです。

    データ定義の各フィールド値を、サポートされている任意のロケールに変換できます。 翻訳のフィールド値を指定するには、ロケールを表すフラグを選択し、ロケールのフィールド値を入力します。

    次のフィールド設定を使用できます。 これらの設定の一部は、特定のフィールドタイプでのみ使用できることに注意してください。

      - **タイプ：** フィールドのタイプ（テキスト、ラジオなど）。 この設定は編集できませんが、表示テンプレートはそれを参照できます。
      - **フィールドラベル：** フィールドの表示名。
      - **ラベルを表示：** フィールドラベルを表示するかどうか。
      - **必須：** ユーザーがフィールドに入力する必要があるかどうか（ブール型フィールドでは使用不可）。
      - **名前：** フィールドの内部識別子。 この値を表示テンプレートで使用して、フィールドのデータを読み取ることができます。 この値は自動的に生成されますが、必要に応じて変更できます。
      - **事前定義値：** フィールドのデフォルト値。
      - **ヒント：** ツールヒントに表示するテキスト。
      - **索引付け可能：** フィールドが検索用に索引付けされるかどうか。
      - **ローカライズ可能：** フィールドを翻訳できるかどうか。
      - **反復可能：** ユーザーがフィールドのコピーを作成できるかどうか。
      - **複数：** ユーザーが複数のオプションを選択できるかどうか。 これは、選択フィールドでのみ使用できます。
      - **オプション：** [ラジオ]および[選択]フィールドで選択できるオプション。 オプションを追加および削除したり、各オプションの表示名と値を編集したりできます。

    ![図4：データ定義の各フィールドの設定を構成します。](../../../images/ddl-data-definition-settings.png)

8.  完了したら、[ *保存* クリックします。 新しいデータ定義が、事前定義されたデータとすでに追加したデータとともにテーブルに表示されます。
