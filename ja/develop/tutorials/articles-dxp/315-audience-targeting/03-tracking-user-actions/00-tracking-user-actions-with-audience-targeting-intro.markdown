---
header-id: tracking-user-actions-with-audience-targeting
---

# オーディエンスターゲティングによるユーザーアクションの追跡

[TOC levels=1-4]

オーディエンスターゲティングでは、キャンペーンにより、期間中に特定のユーザーセグメントをターゲットとする一連のコンテンツを定義します。 レポートを使用すると、キャンペーン管理者は、サイトのさまざまな要素に対するユーザーの相互作用を監視することにより、ユーザーがキャンペーンのコンテキストでどのように動作するかを知ることができます。 Liferayには、コンテンツ、フォーム、リンク、ページなど、追跡可能なエンティティタイプに基づいたいくつかのメトリックが最初から用意されています。 たとえば、サイトで公開されているYouTube動画を視聴したユーザーの数を追跡する場合は、YouTube動画指標を使用してカスタムレポートを作成できます。

オーディエンスターゲティングには多くの指標が含まれていますが、拡張性もあります。 つまり、使用可能なデフォルトのメトリックがニーズを満たさない場合は、自分で作成できます。

最初に、メトリックに関するいくつかの基準を定義する必要があります。

  - 追跡するエンティティ
  - 追跡メカニズム
  - イベントの追跡
  - 微分法

指標の作成には、レポートで追跡する対象をターゲティングすることが含まれます。 あなたが金物店のオーナーであり、その店の週刊ニュースレターを顧客に電子メールで送信したいとします。 毎週メールを送信しているが、実際にニュースレターを開いて読んでいる顧客の数がわからない。 この例では、追跡するエンティティはニュースレターです。

ニュースレターを閲覧した顧客の数を追跡するには、追跡メカニズムを作成する必要があります。 カスタムトラッキングメカニズム（サーブレットなど）を提供することも、オーディエンスターゲティングによって提供されるものを使用することもできます。 ニュースレターの場合、追跡メカニズムとして透明な画像を使用できます。これには、 *View* 追跡イベント機能があります。 画像が表示されるたびに、オーディエンスターゲティングアプリが情報を計算して保存します。

最後に、メトリックをエンティティに割り当てる必要があります。 ニュースレターの場合、ニュースレターが複数ある場合、ユーザーがニュースレターを区別するために入力できるニュースレターIDフィールドを提供できます。

オーディエンスターゲティングアプリケーションでの指標の使用方法の詳細については、 [指標の定義](https://dev.liferay.com/discover/portal/-/knowledge_base/7-1/managing-campaigns#defining-metrics) セクションをご覧ください。

このチュートリアルでは、誰が視聴したかを追跡できるニュースレターを作成します。 これを行うには、

1.  必要なコンテンツターゲティングAPIの依存関係を持つモジュールを作成します。

2.  メトリックの表示/保存ライフサイクルを定義します。

3.  追跡メカニズムと区別方法を実装します。

4.  UIを定義します。

![図1：サンプルのニュースレター指標には、ニュースレター名、ID、およびイベントタイプが必要です。](../../../images-dxp/metric-template.png)

新しいメトリックを計画する方法がわかったので、次のメトリックの作成を開始します\！

## 関連トピック

[Blade CLIを使用したプロジェクトの作成](/docs/7-1/tutorials/-/knowledge_base/t/creating-projects-with-blade-cli)

[メトリックのビューの定義/ライフサイクルの保存](/docs/7-1/user/-/knowledge_base/u/defining-a-metrics-view-save-lifecycle)

[メトリックのUIの定義](/docs/7-1/user/-/knowledge_base/u/defining-the-metrics-ui)
